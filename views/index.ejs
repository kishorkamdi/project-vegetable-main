<div id="loading-overlay">
  <div class="spinner"></div>
</div>

<div id="main-content" style="display:none;">
<%- include('partials/header') %>

<section class="landing-hero d-flex align-items-center justify-content-center text-center text-white" style="background-image: url('/images/hero-vegetables.jpg'); background-size: cover; background-position: center; height: 80vh; position: relative;">
  <div class="overlay position-absolute top-0 start-0 w-100 h-100"  style="background-color: rgba(44, 94, 46, 0.7); background-image: url(https://images.unsplash.com/photo-1599297915019-39c62af59ea1?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D); background-position: center; background-size: cover;"></div>
  <div class="container position-relative" style="z-index: 2; max-width: 700px;">
    <div class="landing-hero-images">
      
      
    </div>
    <h1 class="display-4 fw-bold mb-4 text-white">Fresh Organic Vegetables Delivered To Your Doorstep</h1>
    <p class="lead mb-4">Discover the best quality vegetables from local farms. Healthy, fresh, and sustainable.</p>
    <form action="/products" method="GET" class="d-flex justify-content-center gap-2">
      <button type="submit" class="btn btn-success btn-lg px-4">Shop Now</button>
    </form>
  </div>
</section>

<div class="container my-5">
  <section class="features row text-center mb-5">
    <div class="col-md-4 mb-4">
      <img src="/images/fresh-icon.png" alt="Freshness" class="mb-3" style="width: 60px;">
      <h4>Freshness Guaranteed</h4>
      <p>Handpicked vegetables delivered fresh every day.</p>
    </div>
    <div class="col-md-4 mb-4">
      <img src="/images/organic-icon.png" alt="Organic" class="mb-3" style="width: 60px;">
      <h4>100% Organic</h4>
      <p>Certified organic produce from trusted local farms.</p>
    </div>
    <div class="col-md-4 mb-4">
      <img src="/images/delivery-icon.png" alt="Delivery" class="mb-3" style="width: 60px;">
      <h4>Fast Delivery</h4>
      <p>Quick and reliable delivery to your doorstep.</p>
    </div>
  </section>

  <section class="popular-cuisines mb-5">
    <h2 class="mb-4 text-center">Popular Cuisines</h2>
    <div class="row g-4 justify-content-center">
      <div class="col-6 col-md-3">
        <div class="cuisine-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?cuisine=Indian">
            <img src="https://www.stepbeyondborders.org/wp-content/uploads/2022/08/FOOD.jpg" alt="Indian" class="img-fluid">
            <div class="cuisine-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Indian</h5>
            </div>
          </a>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="cuisine-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?cuisine=Italian">
            <img src="https://images.squarespace-cdn.com/content/v1/5e484ab628c78d6f7e602d73/1599248222831-ZMHAFYJT9T3IXH3IVGKY/What-to-eat-in-Italy.png" alt="Italian" class="img-fluid">
            <div class="cuisine-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Italian</h5>
            </div>
          </a>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="cuisine-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?cuisine=Chinese">
            <img src="https://parcelup.com/wp-content/uploads/2023/01/chinese-new-year-food-feast-scaled.jpg" alt="Chinese" class="img-fluid">
            <div class="cuisine-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Chinese</h5>
            </div>
          </a>
        </div>
      </div>
      <div class="col-6 col-md-3">
        <div class="cuisine-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?cuisine=Mexican">
            <img src="https://www.allrecipes.com/thmb/Y4brle_IWwQ6ll1v4i69TO5sbfI=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/102108380-Authentic-Mexican-Cuisine-Photo-by-Meredith-ebaca57279a548d6b6ef266493497fc3.jpg" alt="Mexican" class="img-fluid">
            <div class="cuisine-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Mexican</h5>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="popular-categories mb-5">
    <h2 class="mb-4 text-center">Popular Categories</h2>
    <div class="row g-4 justify-content-center">
      <div class="col-md-4">
        <div class="category-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?category=Root Vegetables">
            <img src="https://cdn.firstcry.com/education/2022/11/14123017/Root-Vegetables-For-Kids.jpg" alt="Root Vegetables" class="img-fluid">
            <div class="category-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Root Vegetables</h5>
            </div>
          </a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="category-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?category=Leafy Greens">
            <img src="https://housing.com/news/wp-content/uploads/2022/11/green-leafy-vegetables-compressed.jpg" alt="Leafy Greens" class="img-fluid">
            <div class="category-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Leafy Greens</h5>
            </div>
          </a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="category-card position-relative rounded overflow-hidden shadow-sm">
          <a href="/products?category=Fruiting Vegetables">
            <img src="https://images.immediate.co.uk/production/volatile/sites/30/2024/09/fruitveg440-6c0e1fd.jpg?quality=90&resize=440,400" alt="Fruiting Vegetables" class="img-fluid">
            <div class="category-overlay position-absolute bottom-0 start-0 w-100 text-white p-3" style="background: rgba(44, 94, 46, 0.7);">
              <h5 class="mb-0 text-white">Fruiting Vegetables</h5>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-products">
    <h2 class="mb-4 text-center">Featured Products</h2>
    <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-center">
      <% products.slice(0, 9).forEach(product => { %>
        <div class="col">
        <div class="card product-card h-100">
          <a href="/products/<%= product.id %>">
            <img class="w-100" src="<%= product.image || 'images/placeholder.png' %>" class="card-img-top" alt="<%= product.name %>">
          </a>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= product.name %></h5>
            <p class="card-text flex-grow-1"><%= product.description %></p>
            <p class="card-text"><strong>Price <%= product.price.toFixed(2) %></strong></p>
            <form action="/cart/add" method="POST" class="mt-auto">
              <input type="hidden" name="productId" value="<%= product.id %>">
              <div class="input-group input-group-sm mb-2">
                <span class="input-group-text">Qty</span>
                <input type="number" name="quantity" value="1" min="1" class="form-control" style="max-width: 70px;" aria-label="Quantity">
              </div>
              <button type="submit" class="btn btn-sm btn-success w-100">Add to Cart</button>
            </form>
          </div>
        </div>
        </div>
      <% }); %>
    </div>
  </section>
</div>

<script>
  window.addEventListener('load', function() {
    var loadingOverlay = document.getElementById('loading-overlay');
    var mainContent = document.getElementById('main-content');
    setTimeout(function() {
      loadingOverlay.style.display = 'none';
      mainContent.style.display = 'block';
    }, 2000); // 2 seconds delay
  });
</script>

<%- include('partials/footer') %>
